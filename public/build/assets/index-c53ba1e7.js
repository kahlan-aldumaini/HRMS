import{M as B,_ as S,D as T,S as F,F as U}from"./FormDropDown-d545c5d5.js";import{_ as L}from"./BlueButton-a8ab83bf.js";import{F as N}from"./FormInput-9abe307f.js";import{S as j}from"./SideCard-92ea97fb.js";import{A as H}from"./AppLayout-e055a3fb.js";import{_ as A,I as E}from"./_plugin-vue_export-helper-d97591f4.js";import{T as q,k as _,r as h,o as C,c as b,b as a,f as t,g as n,t as c,a as l,F as D,l as v,d as z}from"./app-65af30ef.js";import"./DropdownList-9b3ede74.js";const G={name:"Index",layout:H,components:{Model:B,SideCard:j,TableCard:S,Icon:E,BlueButton:L,DangerButton:T,SecondaryButton:F,FormInput:N,FormDropDown:U},data(){return{showCareerCategory:!1,showDepartment:!1,showCareerDegree:!1,showUnit:!1,showDelete:!1,editId:null,editName:null,careerCategories:[],careerDegrees:[],vacations:[],showVacation:!1,career:q({name:null,id:null,balance:null}),showData:[{id:1,name:"ladkjf"}],sideCards:[{id:1,label:"الفئة الوظيفية",name:"category",isChild:!0,back:()=>{this.career.reset(),this.sideCards[0].isChild=!1},show:async()=>{this.sideCards[0].isChild=!0,this.sideCards[1].isChild=!1,this.sideCards[2].isChild=!1,this.sideCards[3].isChild=!1,await this.getCareerCategories(),this.showData=this.careerCategories}},{id:2,label:"الدرجة الوظيفية",name:"degree",isChild:!1,back:()=>{this.career.reset(),this.sideCards[1].isChild=!1},show:async()=>{this.sideCards[1].isChild=!0,this.sideCards[0].isChild=!1,this.sideCards[2].isChild=!1,this.sideCards[3].isChild=!1,await this.getCareerDegrees(),this.showData=this.careerDegrees}},{id:3,label:"الاجازات",name:"vacation",isChild:!1,back:()=>{this.vacation.reset(),this.sideCards[2].isChild=!1},show:async()=>{this.sideCards[2].isChild=!0,this.sideCards[0].isChild=!1,this.sideCards[1].isChild=!1,this.sideCards[3].isChild=!1,await this.getVactions(),this.showData=this.vacations}},{id:4,label:"التكاليف",name:"task",isChild:!1,back:()=>{this.career.reset(),this.sideCards[3].isChild=!1},show:async()=>{this.sideCards[3].isChild=!0,this.sideCards[0].isChild=!1,this.sideCards[1].isChild=!1,this.sideCards[2].isChild=!1,await this.getTasks(),this.showData=this.vacations}}]}},async created(){await this.getCareerCategories(),this.showData=this.careerCategories},methods:{async getCareerCategories(){await _.get("/get-career-categories").then(e=>this.careerCategories=e.data)},async getCareerDegrees(){await _.get("/get-career-degrees").then(e=>this.careerDegrees=e.data)},submitCareer(){this.career.post("/store-career/"+this.sideCards.find(e=>e.isChild).name,{onSuccess:()=>{this.toast("",`تم ${this.editId?"تعديل":"انشاء"} ${this.sideCards.find(e=>e.isChild).label} بنجاح.`),this.career.reset(),this.hideCareerCategoryModel(),this.hideCareerDegreeModel(),this.hideVacationModel(),this.sideCards.find(e=>e.isChild).show()},onError:e=>{e.message&&this.toast("",e.message,"error")}})},hideCareerCategoryModel(){this.career.reset(),this.showCareerCategory=!1,this.editId=null},hideDepartmentModel(){this.form.reset(),this.showDepartment=!1,this.editId=null},hideCareerDegreeModel(){this.career.reset(),this.showCareerDegree=!1,this.editId=null},hideUnitModel(){this.showUnit=!1,this.editId=null},hideVacationModel(){this.showVacation=!1,this.career.reset(),this.editId=null},hideDeleteModel(){this.career.reset(),this.showDelete=!1,this.editId=null},showCareerCategoryModel(e=null){this.showCareerCategory=!0,this.editId=e,e&&(this.career.id=e,this.career.name=this.careerCategories.find(r=>r.id==e).name)},showCareerDegreeModel(e=null){this.showCareerDegree=!0,this.editId=e,e&&(this.career.id=e,this.career.name=this.showData.find(r=>r.id==e).name)},showVacationModel(e=null){if(this.showVacation=!0,this.editId=e,e){let r=this.showData.find(u=>u.id==e);this.career.id=e,this.career.name=r.name.split("-")[0],this.career.balance=parseInt(r.name.split("-")[1])}},showDeleteModel(e){this.showDelete=!0,this.editId=e.id,this.editName=e.name},showModel(e=null){const r=this.sideCards.find(u=>u.isChild).id;r==1?this.showCareerCategoryModel(e):r==2?this.showCareerDegreeModel(e):this.showVacationModel(e)},destroy(){this.$inertia.delete("/destroy_setting/"+this.editId+"/"+this.sideCards.find(e=>e.isChild).name,{onSuccess:()=>{this.toast("",`تم حذف ${this.sideCards.find(e=>e.isChild).label} بنجاح.`),this.career.reset(),this.hideDeleteModel(),this.sideCards.find(e=>e.isChild).show()}})},async getVactions(){await _.get("/get-vacations").then(e=>this.vacations=e.data)},async getTasks(){await _.get("/get-tasks").then(e=>{this.vacations=e.data})}}},J={class:"grid w-full grid-cols-2 gap-2"},K={class:"grid w-full grid-cols-2 gap-2"},O={class:"grid w-full grid-cols-2 gap-2"},P={class:"px-4"},Q={class:"px-1 font-semibold text-red-500"},R={class:"grid grid-cols-2 gap-4 w-full"},W={class:"flex justify-between w-full h-full bg-gray-200"},X={class:"w-1/5 px-2"},Y={class:"w-4/5 px-2"},Z={class:"flex justify-between w-full item-center"},$={class:"text-xl text-center"},ee={class:"w-52"},se=l("th",null,"#",-1),ie=l("th",{class:"h-10"},"الاسم",-1),te=l("th",null,"خيارات",-1),re=["innerHTML"],ae=["innerHTML"],le={class:"flex items-center h-full py-2 justify-evenly"};function oe(e,r,u,de,s,o){const f=h("FormInput"),g=h("SecondaryButton"),m=h("DangerButton"),w=h("Model"),V=h("SideCard"),x=h("BlueButton"),y=h("Icon"),I=h("TableCard");return C(),b(D,null,[a(w,{show:s.showCareerCategory,hide:o.hideCareerCategoryModel},{title:t(()=>[n(c(s.editId?"تعديل الفة الوظيفية":"انشاء الفة الوظيفية"),1)]),footer:t(()=>[l("div",J,[a(g,{loading:s.career.processing,onClick:o.submitCareer},{default:t(()=>[n(" حفظ ")]),_:1},8,["loading","onClick"]),a(m,{onClick:o.hideCareerCategoryModel},{default:t(()=>[n(" الغاء ")]),_:1},8,["onClick"])])]),default:t(()=>[a(f,{label:"الفة الوظيفية",type:"text",modelValue:s.career.name,"onUpdate:modelValue":r[0]||(r[0]=i=>s.career.name=i),error:s.career.errors.name},null,8,["modelValue","error"])]),_:1},8,["show","hide"]),a(w,{show:s.showCareerDegree,hide:o.hideCareerDegreeModel},{title:t(()=>[n(c(s.editId?"تعديل الدرجة الوظيفية":"انشاء الدرجة الوظيفية"),1)]),footer:t(()=>[l("div",K,[a(g,{loading:s.career.processing,onClick:o.submitCareer},{default:t(()=>[n(" حفظ ")]),_:1},8,["loading","onClick"]),a(m,{onClick:o.hideCareerDegreeModel},{default:t(()=>[n(" الغاء ")]),_:1},8,["onClick"])])]),default:t(()=>[a(f,{label:"الدرجة الوظيفية",type:"text",modelValue:s.career.name,"onUpdate:modelValue":r[1]||(r[1]=i=>s.career.name=i),error:s.career.errors.name},null,8,["modelValue","error"])]),_:1},8,["show","hide"]),a(w,{show:s.showVacation,hide:o.hideVacationModel},{title:t(()=>{var i,d,k,M;return[n(c(s.editId?`تعديل ${(d=(i=s.sideCards)==null?void 0:i.find(p=>p.isChild))==null?void 0:d.label}`:`انشاء ${(M=(k=s.sideCards)==null?void 0:k.find(p=>p.isChild))==null?void 0:M.label}`),1)]}),footer:t(()=>[l("div",O,[a(g,{loading:s.career.processing,onClick:o.submitCareer},{default:t(()=>[n(" حفظ ")]),_:1},8,["loading","onClick"]),a(m,{onClick:o.hideVacationModel},{default:t(()=>[n(" الغاء ")]),_:1},8,["onClick"])])]),default:t(()=>{var i;return[a(f,{label:(i=s.sideCards)==null?void 0:i.find(d=>d.isChild).label,type:"text",modelValue:s.career.name,"onUpdate:modelValue":r[2]||(r[2]=d=>s.career.name=d),error:s.career.errors.name},null,8,["label","modelValue","error"]),a(f,{label:"الرصيد",type:"number",modelValue:s.career.balance,"onUpdate:modelValue":r[3]||(r[3]=d=>s.career.balance=d),error:s.career.errors.balance},null,8,["modelValue","error"])]}),_:1},8,["show","hide"]),a(w,{show:s.showDelete,hide:o.hideDeleteModel},{title:t(()=>[n(" حذف "+c(s.sideCards.find(i=>i.isChild).label),1)]),footer:t(()=>[l("div",R,[a(m,{onClick:o.destroy},{default:t(()=>[n(" حذف ")]),_:1},8,["onClick"]),a(g,{onClick:o.hideDeleteModel},{default:t(()=>[n(" الغاء ")]),_:1},8,["onClick"])])]),default:t(()=>[l("div",P,[n(" هل انت متأكد من حذف "+c(s.sideCards.find(i=>i.isChild).label)+" ",1),l("span",Q,c(s.editName),1),n("؟ ")])]),_:1},8,["show","hide"]),l("div",W,[l("div",X,[(C(!0),b(D,null,v(s.sideCards,i=>(C(),z(V,{key:i.id,label:i.label,onBack:i.back,onShow:i.show,"is-child":!i.isChild},null,8,["label","onBack","onShow","is-child"]))),128))]),l("div",Y,[a(I,null,{header:t(()=>{var i;return[l("div",Z,[l("div",$,c((i=s.sideCards.find(d=>d.isChild))==null?void 0:i.label),1),l("div",ee,[a(x,{onClick:r[4]||(r[4]=d=>o.showModel())},{default:t(()=>[n(" اظافة "+c(s.sideCards.find(d=>d.isChild).label),1)]),_:1})])])]}),table_header:t(()=>[se,ie,te]),table_body:t(()=>[(C(!0),b(D,null,v(s.showData,i=>(C(),b("tr",{key:i.id,class:"h-8 text-center hover:bg-gray-200 hover:rounded-md"},[l("td",{innerHTML:i.id},null,8,re),l("td",{innerHTML:i.name},null,8,ae),l("td",le,[a(y,{class:"cursor-pointer hover:text-slate-900",onClick:d=>o.showModel(i.id),icon:"carbon:edit"},null,8,["onClick"]),a(y,{class:"cursor-pointer hover:text-slate-900",icon:"carbon:trash-can",onClick:d=>o.showDeleteModel(i)},null,8,["onClick"])])]))),128))]),_:1})])])],64)}const we=A(G,[["render",oe]]);export{we as default};
